---
title: 【SwiftUI】LoadingViewを使ってロード中にクルクルするアレを作る
tags:
  - SwiftUI
private: false
updated_at: '2025-10-17T17:57:58+09:00'
id: b887c1817de4b76129c6
organization_url_name: null
slide: false
ignorePublish: false
---
### 実現しようとしたこと
* SwiftUIで`Indicator`や`LoadingCycle`の類のものを表示しようとした

### 解決策
* 凝ったデザインのものを使いたければライブラリをSPMで引っ張ってくればよい。
* 今回は純正のOutletを呼び出す。

<br>

**【やること】**
* `@State`で`isLoading`を`false`にセットする
* `true`の時だけ`ProgressView`を表示
* ローディングが始まるタイミングで`true`, 終わるタイミングで`false`にする

```ContentView.swift
@State private var isLoading = false

// Viewの描画の責務の範囲内
if isLoading {
    ProgressView() // ProgressViewを呼び出す
}

// バックグラウンド処理内
// Loadingを呼び出したいタイミングでisLoadingをtrueにする
isLoading = true
// 終わったらfalseにする
isLoading = false
```

* `Task`と`.task`と組み合わせると、非同期処理中だけローディング表示が可能


```Example.swift
Button("データ取得") {
    isLoading = true
    Task {
        try? await repository.fetchData()
        isLoading = false
    }
}
```
