---
title: 【SwiftUI/Realm】初期プロジェクトにRealmマイグレーションファイルをつくる
tags:
  - Realm
  - SwiftUI
private: false
updated_at: '2025-10-26T21:04:03+09:00'
id: 0be3e964bf917d0d3084
organization_url_name: null
slide: false
ignorePublish: false
---
### 概要
* SwiftUIの初期プロジェクトにRealmのマイグレーションファイルを作成する。

### 方針
* Realmのマイグレーションファイルを書こうと思ったが、SwiftUIの初期プロジェクトはAppDelegate.swiftを有していないため、SwiftUIの@mainアノテーションが付与されているファイルに記述をしなければならない。しかし、サンプルが見つからない。

### コード

```Swift
import SwiftUI
import RealmSwift
import Realm

@main
struct BakusokuToDoListApp: SwiftUI.App {
    init() {
        setupRealmMigration()
    }

    var body: some Scene {
        WindowGroup {
            TodoListView()
        }
    }
    
    private func setupRealmMigration() {
        // Configurationの設定
        let config = Realm.Configuration(
            schemaVersion: 1, // バージョンを指定（Int）
            migrationBlock: { migration, oldSchemaVersion in
                // oldSchemaVersion（古いスキーマのバージョンを取得できる）
                // if oldSchemaVersion < 3 なら、みたいな書き方をする
            }
        )
        Realm.Configuration.defaultConfiguration = config
    }
}
```
