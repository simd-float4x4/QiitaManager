---
title: 【Swift】自分用メモ | 【LeetCode】4. Median of Two Sorted Arrays
tags:
  - 競技プログラミング
  - Swift
  - leetcode
private: false
updated_at: '2025-11-06T16:14:03+09:00'
id: c2fd07a416ee2bcf184d
organization_url_name: null
slide: false
ignorePublish: false
---
# コード

* [Solution](https://leetcode.com/problems/median-of-two-sorted-arrays/solutions/1134918/accepted-solution-for-swift-by-asahiocea-7ub0)からコードを拝借


```Swift
class Solution { 
    func findMedianSortedArrays(_ nums1: [Int], _ nums2: [Int]) -> Double { 
        let ln1 = nums1.count, ln2 = nums2.count 
        var arr = Array(repeating: 0, count: ln1 + ln2), lna = arr.count 
        var i = ln1 - 1, t = ln2 - 1, c = lna - 1 
        while c >= 0 { 
            if t < 0 || i >= 0 && nums1[i] > nums2[t] { 
                arr[c] = nums1[i] 
                c = c - 1 
                i = i - 1 
            } else { 
                arr[c] = nums2[t] 
                c = c - 1
                t = t - 1 
            } 
        } 
        let m = lna / 2 
        return lna % 2 == 0 ? Double(arr[m-1] + arr[m]) / 2 : Double(arr[m]) 
    } 
}
```

# 必要な変数
* `ln1` ... `nums1`の配列の要素数
* `ln2` ...  `nums2`の配列の要素数
* `arr` ...  `nums1`と`nums2`の配列の要素数の合計を事前割り当てしておいた配列
* `lna` ... `arr`の配列の要素数
* `i` ... `nums1`の現在のインデックス（初期値：末尾）
* `t` ... `nums2`の現在のインデックス （初期値：末尾）
* `c` ... `arr`の現在のインデックス （初期値：末尾）


# 実装方針


## 1. 変数の定義
```Swift
let ln1 = nums1.count, ln2 = nums2.count 
var arr = Array(repeating: 0, count: ln1 + ln2), lna = arr.count 
var i = ln1 - 1, t = ln2 - 1, c = lna - 1 
```
### 1-1. Point
* `count`の合計で事前割り当てしておく

## 2. 大小比較と配列のマージ
### 2-1. cの全探索（0 ..< c）
```Swift 
while c >= 0 {}
```

### 2-2. nums0, nums1の大小比較
```Swift 
if t < 0 || i >= 0 && nums1[i] > nums2[t] { 
```
#### **Point 必要な分岐**
* `t<0` ... `nums[1]`の中で判定出来る数字がもうないとき（`c`が-1より小さくなる時）の分岐。その時は`nums[0]`の値を入れ続けるしかない
* `i >= 0 && nums1[i] > nums2[t]` ...　大小比較して`nums1`の値が大きいときかつ`nums[0]`のインデックスが0以上の時 

### 2-3. 各分岐の中でやること
* `arrs[c]`に`nums[i]`もしくはnums[t]の値を代入しておく
* `c`のインデックスのデクリメント
* `i`, `t`のインデックスのデクリメント

## 3. 偶奇判定
* 配列に中央値を格納するインデックスがどこか探す。奇数ならそのままぶちこむだけ。偶数なら該当する要素が２つあるので合計して２で割ってDoubleキャストで終了

# 謝辞
https://leetcode.com/problems/median-of-two-sorted-arrays/solutions/1134918/accepted-solution-for-swift-by-asahiocea-7ub0
