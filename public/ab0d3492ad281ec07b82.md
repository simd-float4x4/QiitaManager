---
title: 【Flutter】Expandedしない方がいいケースもある
tags:
  - Dart
  - Flutter
private: false
updated_at: '2025-10-17T12:36:35+09:00'
id: ab0d3492ad281ec07b82
organization_url_name: null
slide: false
ignorePublish: false
---
### エラー

```Terminal.
══╡ EXCEPTION CAUGHT BY WIDGETS LIBRARY ╞═══════════════════════════════════════════════════════════
The following assertion was thrown while applying parent data.:
Incorrect use of ParentDataWidget.
The ParentDataWidget Expanded(flex: 1) wants to apply ParentData of type FlexParentData to a
RenderObject, which has been set up to accept ParentData of incompatible type BoxParentData.
Usually, this means that the Expanded widget has the wrong ancestor RenderObjectWidget. Typically,
Expanded widgets are placed directly inside Flex widgets.
The offending Expanded is currently placed inside a Padding widget.
The ownership chain for the RenderObject that received the incompatible parent data was:
  RichText ← Text ← Expanded ← Padding ← RepaintBoundary ← IndexedSemantics ← _SelectionKeepAlive ←
NotificationListener<KeepAliveNotification> ← KeepAlive ← AutomaticKeepAlive ← ⋯
```


### 対象のコード
```Dart
return Padding(
    padding: const EdgeInsets.symmetric(horizontal: 16.0, vertical: 8.0),
    child: Expanded(
      child: 
      Text("小説を選択する",
        style: TextStyle(
          fontSize: 24,
          fontWeight: FontWeight.w700
        ),
      )
    ),
);
```
### 解決策
* `Expanded`モディファイアを`Padding`の中で使用しない。

### 理由
* `Expanded`は`Row`, `Columnn`, `Flex`の子孫でなければならない。
    * `Row`, `Columnn`, `Flex`の主軸に沿って拡張するという仕様があるから。
    * `Padding`はそれに該当しないので使わないでくださいということ。

> An Expanded widget must be a descendant of a Row, Column, or Flex, and the path from the Expanded widget to its enclosing Row, Column, or Flex must contain only StatelessWidgets or StatefulWidgets (not other kinds of widgets, like RenderObjectWidgets).

https://api.flutter.dev/flutter/widgets/Expanded-class.html


### 追記
* `ListView`の中で`Expanded`を用いてはいけません。その理由はこちら。

https://qiita.com/SHori358Plus/items/046b52f631d028db8d0c
