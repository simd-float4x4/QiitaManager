---
title: >-
  【SwiftUI】fillの中で二項演算子使って.mintと.ultraThinMaterialを分岐させようとしたけどそれぞれColor型とMaterial型なので分岐には使えないらしい
tags:
  - SwiftUI
private: false
updated_at: '2025-10-21T12:05:54+09:00'
id: bb630f2fed68bd76d6e6
organization_url_name: null
slide: false
ignorePublish: false
---
### 取り組もうとしたこと

```swift
Rectangle()
    .fill(isActive == true ? .mint : .ultraThinMaterial)
```

### 発生したエラー

```
Static property 'ultraThinMaterial' requires the types 'Color' and 'Material' be equivalent.
```

### 解決策
* `AnyShapeStyle`というエイリアスでラップすることで解決することが出来るとのこと。

```Swift
Rectangle()
    .fill(isActive == true ? AnyShapeStyle(.mint) : AnyShapeStyle(.ultraThinMaterial))
```

### 謝辞

> The error produced here is a bit clearer at explaining the problem, compared to what the compiler came up with when everything was originally inlined.

> So, how do you solve this? Well, SwiftUI provides a type-erased AnyShapeStyle that you can use to have dynamically different underlying shape styles based on a condition. The fix therefore is to write:

```
.background(!isPlayerOpen ? AnyShapeStyle(.ultraThinMaterial) : AnyShapeStyle(.clear))
```

> By wrapping the properties like this, the return type of the condition is always AnyShapeStyle so the compiler is satisfied as the generic parameter is always resolved to the same type.

https://forums.swift.org/t/ultrathinmaterial-doesnt-work-in-ternary-operator/65084/2
